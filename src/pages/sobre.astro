---
import BaseLayout from "../layouts/BaseLayout.astro";
import { ArrowUpRight, Download } from "lucide-react";
import { sanityClient, urlFor } from "../lib/sanity";

const manifestos = await sanityClient.fetch(`
  *[_type == "post" && !(_id in path("drafts.**")) && ("Manifesto" in tags || "manifesto" in tags || title match "Manifesto")] | order(publishedAt desc) {
    title, 
    slug, 
    publishedAt, 
    mainImage, 
    excerpt
  }
`);
---

<BaseLayout
  title="SOBRE NÓS // MIXTAPE252"
  description="Um coletivo criativo independente nascido no caos de Goiânia."
>
  <main class="relative z-10 min-h-screen pb-20">
    <!-- Marquee Topo (Recapitulando identidade) -->
    <div
      class="bg-ink text-paper py-1 border-b-4 border-ink overflow-hidden marquee-container"
    >
      <div
        class="marquee-content font-headline text-sm tracking-widest uppercase"
      >
        // DOSSIÊ TÉCNICO // MIXTAPE252 // QUEM SOMOS // O QUE FAZEMOS // DOSSIÊ
        TÉCNICO // MIXTAPE252 // QUEM SOMOS // O QUE FAZEMOS
      </div>
    </div>

    <div class="container mx-auto px-4 max-w-6xl mt-12 md:mt-20">
      <!-- Hero Section: "Ficha do Arquivo" Style -->
      <header
        class="relative border-4 border-ink bg-white p-6 md:p-12 shadow-hard mb-16 rotate-[-1deg]"
      >
        <!-- Carimbo "CLASSIFIED" fake -->
        <div
          class="absolute -top-6 -right-6 bg-safety-orange text-white font-headline text-xl px-4 py-2 rotate-12 shadow-sm border-2 border-ink"
        >
          ORIGINAL COPY
        </div>

        <div class="space-y-6">
          <span
            class="font-mono text-xs md:text-sm bg-ink text-white px-2 py-1 uppercase tracking-widest inline-block transform skew-x-[-10deg]"
          >
            /// REF: MXTP-252-GTS
          </span>

          <h1
            class="text-5xl md:text-7xl lg:text-8xl font-headline uppercase leading-[0.9] tracking-tighter"
          >
            NÃO É SÓ <br />
            <span
              class="text-transparent bg-clip-text bg-gradient-to-r from-safety-orange to-red-600 stroke-black"
              style="-webkit-text-stroke: 2px black;">HYPE.</span
            >
          </h1>

          <p
            class="text-xl md:text-2xl font-bold font-body max-w-2xl border-l-4 border-safety-orange pl-6 py-2"
          >
            Um coletivo criativo independente nascido no caos de Goiânia.
          </p>
        </div>
      </header>

      <!-- Layout de Colunas: Manifesto (Centralizado) -->
      <div class="max-w-4xl mx-auto mb-20">
        <!-- Coluna Texto (Manifesto) -->
        <div class="space-y-8">
          <div
            class="prose prose-lg prose-p:font-body prose-headings:font-headline text-ink"
          >
            <p class="text-lg md:text-xl font-bold uppercase leading-relaxed">
              Criamos música, design e caos controlado. Sem algoritmo no
              pescoço. Trabalhamos como artesãos digitais em um mundo
              industrializado.
            </p>
            <p
              class="opacity-80 text-sm md:text-base border-t-2 border-ink pt-4"
            >
              Não somos uma agência tradicional. Somos um laboratório de
              experimentação onde o erro é parte do processo e a estética
              brutalista não é apenas visual, é funcional. Cortamos o excesso
              para entregar a verdade crua.
            </p>
          </div>

          <!-- Botões CTA -->
          <div class="flex flex-col sm:flex-row gap-4 pt-4">
            <a
              href="https://instagram.com"
              target="_blank"
              class="flex items-center justify-center gap-2 bg-ink text-paper px-6 py-3 font-headline uppercase text-xl border-2 border-transparent hover:bg-safety-orange hover:text-ink hover:border-ink transition-all shadow-hard-sm hover:shadow-none hover:translate-x-[3px] hover:translate-y-[3px]"
            >
              <span>Entrar em Contato</span>
              <ArrowUpRight size={20} />
            </a>

            <a
              href="/pitchdeck.pdf"
              target="_blank"
              class="flex items-center justify-center gap-2 bg-transparent text-ink px-6 py-3 font-headline uppercase text-xl border-2 border-ink hover:bg-gray-200 transition-all"
            >
              <span>Baixar Pitch Deck</span>
              <Download size={20} />
            </a>
          </div>
        </div>
      </div>

      <!-- Grid de Capacidades (Services) -->
      <section class="border-t-4 border-ink pt-12 mb-20">
        <div class="flex items-end gap-4 mb-12">
          <h2
            class="text-4xl md:text-6xl font-headline uppercase bg-ink text-white px-4 py-2 transform -rotate-1 inline-block"
          >
            Capacidades
          </h2>
          <span
            class="font-mono text-sm md:text-base animate-pulse text-safety-orange"
          >
            /// SYSTEM READY
          </span>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Item 1 -->
          <article
            class="border-4 border-ink bg-white p-6 hover:bg-[#f4f1ea] transition-colors group"
          >
            <header
              class="flex justify-between items-start mb-4 border-b-2 border-ink pb-2"
            >
              <h3 class="text-2xl md:text-3xl font-headline uppercase">
                Audiovisual & Foto
              </h3>
              <span
                class="font-mono text-xs bg-safety-orange text-white px-1 group-hover:rotate-12 transition-transform"
                >01</span
              >
            </header>
            <ul
              class="font-mono text-sm space-y-2 list-disc pl-4 marker:text-safety-orange"
            >
              <li>Direção de Arte & Set Design</li>
              <li>Fotografia Analógica & Digital</li>
              <li>Edição de Vídeo & Motion Simples</li>
              <li>Cobertura de Eventos (Raw Style)</li>
            </ul>
          </article>

          <!-- Item 2 -->
          <article
            class="border-4 border-ink bg-white p-6 hover:bg-[#f4f1ea] transition-colors group"
          >
            <header
              class="flex justify-between items-start mb-4 border-b-2 border-ink pb-2"
            >
              <h3 class="text-2xl md:text-3xl font-headline uppercase">
                Design & Identidade
              </h3>
              <span
                class="font-mono text-xs bg-safety-orange text-white px-1 group-hover:rotate-12 transition-transform"
                >02</span
              >
            </header>
            <ul
              class="font-mono text-sm space-y-2 list-disc pl-4 marker:text-safety-orange"
            >
              <li>Branding Brutalista</li>
              <li>Design para Redes Sociais</li>
              <li>Capas de Álbum & Merch</li>
              <li>Web Design (UI/UX Radical)</li>
            </ul>
          </article>

          <!-- Item 3 -->
          <article
            class="border-4 border-ink bg-white p-6 hover:bg-[#f4f1ea] transition-colors group"
          >
            <header
              class="flex justify-between items-start mb-4 border-b-2 border-ink pb-2"
            >
              <h3 class="text-2xl md:text-3xl font-headline uppercase">
                Estratégia
              </h3>
              <span
                class="font-mono text-xs bg-safety-orange text-white px-1 group-hover:rotate-12 transition-transform"
                >03</span
              >
            </header>
            <ul
              class="font-mono text-sm space-y-2 list-disc pl-4 marker:text-safety-orange"
            >
              <li>Posicionamento de Marca</li>
              <li>Planejamento de Lançamentos</li>
              <li>Consultoria Criativa</li>
              <li>Curadoria de Conteúdo</li>
            </ul>
          </article>

          <!-- Item 4 -->
          <article
            class="border-4 border-ink bg-white p-6 hover:bg-[#f4f1ea] transition-colors group"
          >
            <header
              class="flex justify-between items-start mb-4 border-b-2 border-ink pb-2"
            >
              <h3 class="text-2xl md:text-3xl font-headline uppercase">
                Produção DIY
              </h3>
              <span
                class="font-mono text-xs bg-safety-orange text-white px-1 group-hover:rotate-12 transition-transform"
                >04</span
              >
            </header>
            <ul
              class="font-mono text-sm space-y-2 list-disc pl-4 marker:text-safety-orange"
            >
              <li>Fanzines & Publicações Impressas</li>
              <li>Adesivos & Cartazes (Paste-up)</li>
              <li>Customização de Vestuário</li>
              <li>Instalações Físicas</li>
            </ul>
          </article>
        </div>
      </section>

      <!-- ARQUIVO DE MANIFESTOS -->
      <!-- ARQUIVO DE MANIFESTOS -->
      <section class="border-t-4 border-ink pt-12 mb-20">
        <div class="flex items-center gap-4 mb-12">
          <h2
            class="text-4xl md:text-6xl font-headline uppercase bg-white border-4 border-ink px-4 py-2 inline-block shadow-hard transform rotate-1"
          >
            ARQUIVO DE MANIFESTOS
          </h2>
          <span class="h-4 flex-grow bg-ink repeating-linear-gradient"></span>
        </div>

        {
          manifestos.length > 0 ? (
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
              {manifestos.map((post: any) => (
                <a
                  href={`/post/${post.slug.current}`}
                  class="group relative bg-white border-4 border-ink p-6 shadow-hard hover:bg-gray-50 transition-all hover:border-dashed"
                >
                  <div class="font-mono text-xs text-gray-400 mb-2">
                    /// DOC
                  </div>
                  <h3 class="text-2xl font-headline uppercase mb-2 group-hover:text-safety-orange">
                    {post.title}
                  </h3>
                  <p class="font-mono text-sm opacity-70 mb-4">
                    {new Date(post.publishedAt).toLocaleDateString("pt-BR")}
                  </p>
                  <div class="text-xs font-bold uppercase tracking-widest border-t-2 border-current pt-2">
                    Ler Documento ->
                  </div>
                </a>
              ))}
            </div>
          ) : (
            <div class="border-4 border-ink border-dashed p-12 text-center bg-gray-50">
              <p class="font-mono text-lg md:text-xl text-ink opacity-60 uppercase tracking-widest">
                /// NENHUM DOCUMENTO DESCLASSIFICADO AINDA. <br />
                AGUARDE A PRÓXIMA TRANSMISSÃO.
              </p>
            </div>
          )
        }
      </section>
    </div>
  </main>

  <div class="py-12 text-center border-t-4 border-ink bg-paper mt-12">
    <a
      href="/"
      class="inline-block px-8 py-3 bg-ink text-paper font-headline uppercase text-2xl hover:bg-safety-orange hover:text-ink transition-colors shadow-hard transform hover:-rotate-1"
    >
      ← VOLTAR PARA O CAOS
    </a>
  </div>
</BaseLayout>
